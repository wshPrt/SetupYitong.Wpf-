#ifndef _CP2PLIENTAPI_
#define _CP2PLIENTAPI_

#include "interfaceDataDef.h"
#ifdef CAPI_EXPORTS
#define CAPI_EXPORTS __declspec(dllexport)
#else
#define CAPI_EXPORTS __declspec(dllimport)
#endif
//#ifdef  __cplusplus
extern "C"
{
//#endif


/////////////////////////////////////////////////////////////////////////////////////////
//
//函数：Init
//
//功能：供第三方初始化程序
//
//输入参数：ip为服务器IP,port为服务器port
//
//返回结果：ENUM_RET
/////////////////////////////////////////////////////////////////////////////////////////
CAPI_EXPORTS ENUM_RET  Init(const char *ip,const unsigned short port);

/////////////////////////////////////////////////////////////////////////////////////////
//
//函数：Register
//
//功能：供第三方注册
//
//输入参数：localid,客户端id,cb链接成功函数指针，sb 链接失败函数指针
//
//返回结果：无，直接根据interface定义的异步函数返回
/////////////////////////////////////////////////////////////////////////////////////////
CAPI_EXPORTS ENUM_RET __stdcall Register(const char *localid,OnStreamConnect cb,OnStreamBroken sb);


/////////////////////////////////////////////////////////////////////////////////////////
//
//函数：Connect
//
//功能：开始p2p链接
//
//输入参数：sendid,对方id,savefolder,保存接受文件的路径，绝对路径,OnP2pTsFaildp2p链接回掉
//
//返回结果：无，直接根据interface定义的异步返回
/////////////////////////////////////////////////////////////////////////////////////////
CAPI_EXPORTS ENUM_RET __stdcall Connect(const char *sendid,const char *savefolder,OnP2pTsFaild pb);



/////////////////////////////////////////////////////////////////////////////////////////
//
//函数：TransferFile
//
//功能：供第三方注册
//
//输入参数：FileName,要传送的文件名，绝对路径,fb文件发送回到函数指针
//
//返回结果：无，直接根据interface定义的异步返回
/////////////////////////////////////////////////////////////////////////////////////////
CAPI_EXPORTS ENUM_RET __stdcall TransferFile(const char *FileName,FileTransmitDone fb);




/////////////////////////////////////////////////////////////////////////////////////////
//
//函数：Stop
//
//功能：供第三方停止程序
//
//输入参数：，无
//
//返回结果：无
/////////////////////////////////////////////////////////////////////////////////////////
CAPI_EXPORTS void __stdcall Stop();




//#ifdef  __cplusplus
}
//#endif
#endif
